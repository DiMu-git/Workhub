<!--pages/facilityDetail/facilityDetail.wxml-->
<view class="container">
  <view class="bigTitle">select reserve list</view>
  <view class="list">
    <van-checkbox-group value="{{ result }}" bind:change="onChangeCheckbox">
      <van-cell-group>
        <van-cell
          wx:for="{{ reserveList }}"
          wx:key="index"
          value-class="value-class"
          clickable
          data-index="{{ index }}"
          bind:click="toggle"
        >
        <view slot="title">
          <!-- <view class="van-cell-text">单元格</view> -->
          <view class="date">{{item.time}}</view>
          <view class="numBox">
            <view class="price">￥{{item.price}}</view>
            <view><text>surplus:</text>{{item.nums}}</view>
            <view><text>total:</text>{{item.maxNum}}</view>
          </view>
        </view>
          <van-checkbox
            catch:tap="noop"
            class="checkboxes-{{ index }}"
            name="{{ index }}"
            disabled="{{item.nums==0}}"
          />
        </van-cell>
      </van-cell-group>
    </van-checkbox-group>
  </view>
  <view class="paywayBox">
    <view class="bigTitle">select payment method</view>
    <view class="paywayList">
      <van-radio-group value="{{ radio }}" bind:change="onChange">
        <van-cell-group>
          <van-cell clickable data-name="1" bind:click="onClick">
            <view slot="title">
              <view class="bankNum">
                <text>bank</text>
                <van-field
                  model:value="{{ bankNum }}"
                  type="number"
                  placeholder="please enter bank number"
                  border="{{ false }}"
                  class="bankNumInput"
                />
              </view>
            </view>
            <van-radio slot="right-icon" name="1" />
          </van-cell>
          <van-cell title="cash" clickable data-name="2" bind:click="onClick">
            <van-radio slot="right-icon" name="2" />
          </van-cell>
          <van-cell title="weChat" clickable data-name="3" bind:click="onClick">
            <van-radio slot="right-icon" name="3" />
          </van-cell>
        </van-cell-group>
      </van-radio-group>
    </view>
  </view>
  <van-submit-bar
    price="{{ price }}"
    button-text="pay order"
    label="total:"
    bind:submit="payOrder"
    tip="{{ true }}"
  >
    <van-tag type="primary">quantity:{{result.length}}</van-tag>
    <view slot="tip">Book two or more with 20% discount</view>
  </van-submit-bar>
  <van-dialog id="van-dialog" />
</view>
