(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76c82793"],{"2f33":function(t,e,a){},4482:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search_container"},[a("el-form",{staticClass:"searchformContent",attrs:{model:t.searchParams,inline:!0,"label-width":"70px",size:"small"}},[a("el-form-item",{attrs:{label:"时间筛选"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"monthrange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份","picker-options":t.pickerOptions,"value-format":"yyyy-MM"},model:{value:t.searchDates,callback:function(e){t.searchDates=e},expression:"searchDates"}})],1),t.userInfo.level>=4?a("el-form-item",{attrs:{label:"业务经理"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择业务经理",clearable:"",filterable:""},model:{value:t.searchParams.userId,callback:function(e){t.$set(t.searchParams,"userId",e)},expression:"searchParams.userId"}},t._l(t.userLevel1List,(function(t){return a("el-option",{key:t.id,attrs:{label:t.realName,value:t.id}})})),1)],1):t._e(),1==t.userInfo.level||t.searchParams.userId?a("el-form-item",{attrs:{label:"公司名称"}},[a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入公司名称",clearable:""},model:{value:t.searchParams.company,callback:function(e){t.$set(t.searchParams,"company",e)},expression:"searchParams.company"}})],1):t._e(),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.search()}}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"tableContent"},[1==t.userInfo.level||t.searchParams.userId?t._e():a("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("tr",[a("td",{attrs:{width:"25%"}},[t._v("总收入")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.resData.inTotal))]),a("td",{attrs:{width:"25%"}},[t._v("总支出")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.resData.outTotal))])]),a("tr",[a("td",[t._v("已收款金额")]),a("td",[t._v(t._s(t.resData.payed))]),a("td",[t._v("工资")]),a("td",[t._v(t._s(t.resData.payTotal))])]),a("tr",[a("td",[t._v("未收款金额")]),a("td",[t._v(t._s(t.resData.nonePay))]),a("td",[t._v("购买")]),a("td",[t._v(t._s(t.resData.refund))])]),a("tr",[a("td",[t._v("含税")]),a("td",[t._v(t._s(t.resData.taxIn))]),a("td",[t._v("含税")]),a("td",[t._v(t._s(t.resData.taxOut))])]),a("tr",[a("td",[t._v("不含税")]),a("td",[t._v(t._s(t.resData.nonTaxIn))]),a("td",[t._v("不含税")]),a("td",[t._v(t._s(t.resData.nontaxOut))])]),a("tr",[a("td",[t._v("开票")]),a("td",[t._v(t._s(t.resData.billTypeIn))]),a("td",[t._v("开票")]),a("td",[t._v(t._s(t.resData.billTypeOut))])]),a("tr",[a("td",[t._v("未开票")]),a("td",[t._v(t._s(t.resData.nonBillTypeIn))]),a("td",[t._v("未开票")]),a("td",[t._v(t._s(t.resData.nonBillTypeOut))])]),a("tr",[a("td",[t._v("营收情况")]),a("td",{attrs:{colspan:"3"}},[t._v(t._s(t.resData.total))])])]),1==t.userInfo.level||t.searchParams.userId?a("table",{attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[a("tr",[a("td",{attrs:{width:"25%"}},[t._v("总销售额")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.resData.inTotal))]),a("td",{attrs:{width:"25%"}},[t._v("总提成")]),a("td",{attrs:{width:"25%"}},[t._v(t._s(t.resData.commissionTotal))])]),a("tr",[a("td",[t._v("已收款金额")]),a("td",[t._v(t._s(t.resData.payed))]),a("td",[t._v("已结算")]),a("td",[t._v(t._s(t.resData.commissioned))])]),a("tr",[a("td",[t._v("未收款金额")]),a("td",[t._v(t._s(t.resData.nonePay))]),a("td",[t._v("未结算")]),a("td",[t._v(t._s(t.resData.commissionNo))])])]):t._e()])])},r=[],n=a("cc64"),c=(a("5ede"),a("0f55"),a("6054"),a("52c1")),i=a("b775");a("7733");function o(t){return Object(i["a"])({url:"/base/getMoney",method:"get",params:t})}var l=a("eb97"),d={name:"FinancialStatistics",components:{},computed:Object(n["a"])({},Object(c["b"])(["userInfo"])),data:function(){return{resData:{},searchParams:{},userLevel1List:[],searchDates:[],pickerOptions:{shortcuts:[{text:"本月",onClick:function(t){t.$emit("pick",[new Date,new Date])}},{text:"今年至今",onClick:function(t){var e=new Date,a=new Date((new Date).getFullYear(),0);t.$emit("pick",[a,e])}},{text:"最近六个月",onClick:function(t){var e=new Date,a=new Date;a.setMonth(a.getMonth()-6),t.$emit("pick",[a,e])}}]}}},methods:{search:function(){var t=this;this.searchDates&&0!=this.searchDates.length?(this.searchParams.startDate="",this.searchParams.endDate="",this.searchDates&&this.searchDates.length>0&&(this.searchParams.startDate=this.searchDates[0],this.searchParams.endDate=this.searchDates[1]),o(this.searchParams).then((function(e){0==e.code&&(t.resData=e.data)}))):this.$message({type:"warning",message:"请选择日期"})},getUserList:function(){var t=this,e={pageNo:1,pageSize:1e3,userName:"",realName:"",level:1,dept:"",tel:""};Object(l["c"])(e).then((function(e){var a=e.data;t.userLevel1List=a.content}))}},created:function(){var t=this.$options.filters["dateFormat"](new Date,"yyyy-mm");this.searchDates=[t,t],this.search(),this.getUserList()},filters:{dateFormat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("- - -"==t)return t;var a=new Date(t),s=a.getFullYear(),r=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,n=a.getDate()<10?"0"+a.getDate():a.getDate();if("yyyy-mm"==e.toLowerCase())return"".concat(s,"-").concat(r);if("yyyy-mm-dd"==e.toLowerCase())return"".concat(s,"-").concat(r,"-").concat(n);var c=a.getHours()<10?"0"+a.getHours():a.getHours(),i=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),o=a.getSeconds()<10?"0"+a.getSeconds():a.getSeconds();return"".concat(s,"-").concat(r,"-").concat(n," ").concat(c,":").concat(i,":").concat(o)}}},u=d,h=(a("58a4"),a("cba8")),v=Object(h["a"])(u,s,r,!1,null,"f5f0fa0e",null);e["default"]=v.exports},"58a4":function(t,e,a){"use strict";a("2f33")},eb97:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return c}));var s=a("b775");a("7733");function r(t){return Object(s["a"])({url:"/user/list",method:"post",data:t})}function n(t){return Object(s["a"])({url:"/user/edit",method:"post",data:t})}function c(t){return Object(s["a"])({url:"/user/del",method:"post",data:t})}}}]);